<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Sign Stream - Indian Sign Language Platform</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles/style.css">
</head>
<body>
  <div class="app-shell">
    <header>
      <h1>Sign Stream</h1>
      <p>Indian Sign Language Translation & Real World Emulation</p>
    </header>

    <div class="main-layout">
      <!-- LEFT: 3D Viewer Section (65-70%) -->
      <div class="viewer-section">
        <div class="viewer-container">
          <div class="viewWrap" id="threeView">
            <div class="viewBadge">3D</div>
          </div>
        </div>
        <div id="status" class="muted">Status: idle</div>
      </div>

      <!-- RIGHT: Control Panel (30-35%) -->
      <div class="control-panel">
        
        <!-- Sentence Input Card -->
        <div class="card">
          <h3 class="card-title">Sentence Translation</h3>
          <div class="control-section">
            <label for="sentenceInput">Enter Text</label>
            <input id="sentenceInput" type="text" placeholder="Type a word or phraseâ€¦">
            <div class="row">
              <button id="convertBtn">Convert</button>
              <button id="voiceBtn" type="button">ðŸŽ™ Speak</button>
            </div>
            <div id="voiceStatus">Voice: checking supportâ€¦</div>
            <div id="datasetPreview">
              <div class="label">Available in dataset:</div>
              <div class="matches" id="datasetMatches"></div>
            </div>
            <div id="glossDisplay">
              <div class="label">ISL Gloss</div>
              <div class="glosses" id="glosses"></div>
            </div>
            <div id="warnings"></div>
            <div id="semanticPanel" class="semantic-panel">
              <div class="label">Semantic matches (toggle to keep/remove):</div>
              <div id="semanticMatches"></div>
            </div>
          </div>
        </div>

        <!-- Sentence Playback Card -->
        <div class="card">
          <h3 class="card-title">Sentence Playback</h3>
          <div class="control-section">
            <div class="row">
              <button id="playSentence" disabled>Play Sentence</button>
              <button id="stopSentence" disabled>Stop</button>
            </div>
            <label class="inline"><input type="checkbox" id="loopSentence"> Loop playback</label>
            <span id="sentenceProgress" class="muted"></span>
          </div>
        </div>

        <!-- Render Options Card -->
        <div class="card">
          <h3 class="card-title">Render Options</h3>
          <div class="control-section">
            <div class="row">
              <label class="inline"><input type="checkbox" id="flipY"> Flip Y</label>
              <label class="inline"><input type="checkbox" id="autofit" checked> Auto-fit</label>
              <label class="inline"><input type="checkbox" id="showBBox"> Show bbox</label>
            </div>
            
            <label>Zoom <span id="zoom3dVal" class="muted">1.0x</span></label>
            <input type="range" id="zoom3d" min="0.5" max="2" step="0.05" value="1">
            
            <label>Point size <span id="ptSizeVal" class="muted">4</span></label>
            <input type="range" id="ptSize" min="1" max="8" step="0.5" value="4">
            
            <label>Point color</label>
            <div class="row">
              <input type="color" id="ptColor" value="#ff1a1a">
              <span class="swatch" id="ptSwatch" style="background:#ff1a1a"></span>
            </div>
            
            <label>Edge color</label>
            <div class="row">
              <input type="color" id="edgeColor" value="#00a3ff">
              <span class="swatch" id="edgeSwatch" style="background:#00a3ff"></span>
            </div>
            
            <div class="hud" id="hud"></div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- Image-Based Fingerspelling Popup -->
  <div id="fingerspellPopup">
    <div class="popup-header">Fingerspelling</div>
    <div class="word-display" id="fingerspellWord"></div>
    <div class="letter-info" id="fingerspellLetterInfo"></div>
    <div class="letter-image-container">
      <img id="fingerspellLetterImage" class="letter-image" src="" alt="Letter sign">
    </div>
    <button class="close-btn" id="fingerspellClose" style="display:none;">Close</button>
  </div>

  <script type="module" src="src/main.js"></script>

</body>
</html>